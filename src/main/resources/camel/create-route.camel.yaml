- route:
    id: route-process
    from:
      id: from-UML
      description: UML読込み
      uri: file:data/input
      parameters:
        fileName: activity.uml
      steps:
        - log:
            id: log-Read
            description: Start Log
            message: -- [Start] -- Read UML
        - to:
            id: to-convert-uml-to-json
            description: UmlからJson変換
            uri: direct:uml-to-json
            parameters: {}
        - to:
            id: to-create-camel-route
            description: Camel Route 作成
            uri: direct:create-camel-route
            parameters: {}
        - to:
            id: to-create-app-yml
            description: application-yaml作成
            uri: direct:create-app-yml
            parameters: {}
        - log:
            id: log-Complete
            description: Complete Log
            message: -- [Complite] -- Created Camel Route YAML
- route:
    id: route-uml-to-json
    from:
      id: from-uml-to-json
      description: Convert Uml to Json
      uri: direct:uml-to-json
      parameters: {}
      steps:
        - to:
            id: to-3971
            description: Json-Parameter変換
            uri: bean:createJsonParameterRule
            parameters:
              method: createJsonParameter
        - setProperty:
            id: setProperty-1019
            expression:
              simple:
                expression: ${body}
            name: create_route_json_entity
        - marshal:
            id: marshal-2415
            json: {}
        - to:
            id: to-2087
            description: Json出力
            uri: file:data/output/json
            parameters:
              fileName: camel_create.json
        - log:
            id: log-3503
            message: -- [Convert UML to JSON] --
- route:
    id: route-create-camel-route
    from:
      id: from-create-camel-route
      description: Camel Route作成
      uri: direct:create-camel-route
      parameters: {}
      steps:
        - setBody:
            id: setBody-8040
            expression:
              simple:
                expression: ${exchangeProperty.create_route_json_entity}
        - bean:
            id: bean-camel-route
            description: Camel Route作成
            method: createProcess
            ref: createProcessRule
        - to:
            id: to-file-camel-route
            uri: file:data/output/yaml
            parameters:
              fileName: result-route.camel.yaml
        - log:
            id: log-camel-route
            message: -- [Create Camel Route] --
- route:
    id: route-create-app-yml
    from:
      id: from-create-app-yml
      description: Camel Route作成
      uri: direct:create-app-yml
      parameters: {}
      steps:
        - setBody:
            id: setBody-create-app-yml
            expression:
              simple:
                expression: ${exchangeProperty.create_route_json_entity}
        - bean:
            id: bean-create-app-yml
            description: Application-yml作成
            method: createAppYml
            ref: createApplicationYml
        - to:
            id: to-file-app-yml
            uri: file:data/output/yaml
            parameters:
              fileName: application.yaml
        - log:
            id: log-create-app-yml
            message: -- [Create Application YML] --
- route:
    id: route-class-yml
    from:
      id: from-file-class-yaml
      description: Class YAML読み込み
      uri: file:data/input
      parameters:
        fileName: business_object.yml
      steps:
        - to:
            id: to-1094
            uri: bean:createPopJClassRule
            parameters:
              method: createYamlClass
        - split:
            id: split-3801
            steps:
              - setProperty:
                  id: setProperty-className
                  expression:
                    simple:
                      expression: ${body.className}
                  name: popj_class_name
              - setProperty:
                  id: setProperty-packageName
                  expression:
                    simple:
                      expression: ${body.packageName}
                  name: popj_package_name
              - setProperty:
                  id: setProperty-2857
                  expression:
                    simple:
                      expression: ${body.javaCode}
                  name: popj_java_code
              - setBody:
                  id: setBody-3725
                  expression:
                    simple:
                      expression: ${exchangeProperty.popj_java_code}
              - to:
                  id: to-2095
                  uri: file:data/output/src/main/java
                  parameters:
                    fileName: ${exchangeProperty.popj_package_name}/${exchangeProperty.popj_class_name}.java
            expression:
              simple: ${body}
        - log:
            id: log-5789
            message: --  [Complete create Class] --
